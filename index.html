<script src="https://unpkg.com/htmx.org@1.9.6"></script>
<script src="https://unpkg.com/htmx.org/dist/ext/client-side-templates.js"></script>
<script src="https://unpkg.com/mustache@latest"></script>
<script src="/dist/nostr-sub.js"></script>
<script>
  htmx.on('htmx:nostr-sub-event', console.log)
</script>

<form
  hx-trigger="submit"
  hx-ext="nostr-sub, client-side-templates"
  mustache-template="event"
  nostr-filter='{"kinds":[0]}'
>
  <input name="author" />
  <button>ok</button>
</form>

<main id="main"></main>

<template id="event">
  <div id="main" hx-swap-oob="afterbegin">
    at <em>{{created_at}}</em> <b>{{pubkey}}</b> said:
    <p>{{content}}</p>
  </div>
</template>
